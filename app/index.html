<!DOCTYPE html>

<html>
<head>
    <meta charset="UTF-8">
    <title>LunaIRC</title>
    <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.css" />
    <link rel="stylesheet" href="css/style.css" />
</head>

<body>
    <div id="main-container" class="container-fluid" data-bind="style: { height: height() + 'px' }">
        <div class="row" style="height: 80%">
            <div class="col-xs-2">
                <ul id="target-list" class="nav nav-pills nav-stacked" data-bind="foreach: targets">
                    <li roll="presentation" data-bind="css: { active: $parent.isCurrentTarget($data) }">
                        <a href="#" data-bind="click: $parent.selectTarget">
                            <span data-bind="text: name"></span>
                            <span
                                class="badge pull-right"
                                data-bind="text: count, style: { display: (count() > 0) ? 'inline' : 'none' }"></span>
                        </a>
                    </li>
                </ul>
            </div>
            <div id="chat-area" class="col-xs-10" data-bind="foreach: currentTarget().lines">
                <div>
                    [<span data-bind="text: when().toLocaleTimeString()"></span>]
                    <span data-bind="text: message"></span>
                </div>
            </div>
        </div>
        <div class="row">
            <div id="command-line" class="col-xs-10 col-xs-offset-2">
                <div class="input-group" data-bind="with: commandLine">
                    <input class="form-control" type="text" data-bind="textInput: input, event: { keypress: handleKeypress }" />
                    <span class="input-group-addon"><span class="glyphicon glyphicon-heart"></span></span>
                </div>
            </div>
        </div>
    </div>

</body>
<script>
    global.jQuery = require("jquery");
    global._ = require("lodash");
    
    require("bootstrap");
    require('./js/renderer.js')
</script>
</html>